<!-- This Page will consist the imported navbar, imported footer, and whole home page -->

<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Buy internation products</title>
		<link rel="stylesheet" href="index.css" />
		<!-- Library for slider button icon -->
		<link
			rel="stylesheet"
			href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
		/>
		<!-- To show the logo in the title of website -->
		<link
			rel="icon"
			href="https://i.postimg.cc/sG1kG01m/My-Glamm-Logo-1.jpg"
			type="image/x-icon"
		/>
		<!-- ṃessage icon library -->
		<link
			rel="stylesheet"
			href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
		/>
		<!-- Ḷinking the css of the footer -->
		<link rel="stylesheet" href="nav&foot.css" />
		<!-- for navbar -->
		<script
			src="https://kit.fontawesome.com/1bec6be586.js"
			crossorigin="anonymous"
		></script>
		<link
			rel="stylesheet"
			href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@48,400,0,0"
		/>
		<link rel="stylesheet" href="./font.css" />
	</head>
	<body>
		<div id="navbar"></div>

		<div id="home_page">
			<!-- Slider add -->
			<div id="slider_add">
				<img src="" />
				<button onclick="slideAdLeft()">
					<span class="glyphicon glyphicon-triangle-left"></span>
				</button>
				<button onclick="slideAdRight()">
					<span class="glyphicon glyphicon-triangle-right"></span>
				</button>
				<div>
					<span class="dot"></span>
					<span class="dot"></span>
					<span class="dot"></span>
					<span class="dot"></span>
				</div>
			</div>

			<!-- add banner -->
			<div>
				<img
					src="https://files.myglamm.com/site-images/original/2240x614-copy_6.jpg"
				/>
			</div>

			<!-- Spotlight product -->
			<div id="spotlight">
				<div><h1>IN THE SPOTLIGHT</h1></div>
				<div>
					<div>
						<img
							src="https://files.myglamm.com/site-images/original/700x488-avc.jpg"
						/>
						<div class="tootip">
							<h1>Flat 50% off</h1>
							<p>Flat 50% off</p>
						</div>
					</div>
					<div>
						<img
							src="https://files.myglamm.com/site-images/original/700x488-avc_1.jpg"
						/>
						<div class="tootip">
							<h1>Lit Liquid Matte Lipsticlk</h1>
							<p>Lit Liquid Matte Lipsticlk</p>
						</div>
					</div>
					<div>
						<img
							src="https://files.myglamm.com/site-images/original/In-the-Spotlight-700x488.jpg"
						/>
						<div class="tootip">
							<h1>Makeup Under Rs.399</h1>
							<p>Makeup Under Rs.399</p>
						</div>
					</div>
				</div>
			</div>

			<!-- Gif ad -->
			<div id="gif_ad">
				<img
					src="https://files.myglamm.com/site-images/original/2240x614-C_6.gif"
				/>
				<img
					src="https://files.myglamm.com/site-images/original/2240x614-Sleek-desktop_1.gif"
				/>
			</div>

			<!-- Bank Partner div -->
			<div id="bank_part">
				<div><h3>BANK PARTNER</h3></div>
				<div>
					<div>
						<img
							src="https://files.myglamm.com/site-images/original/IDFC-offer-3360x279_4.jpg"
							alt=""
						/>
						<h3>IDFC FIRST Bank</h3>
						<p>IDFC FIRST Bank</p>
					</div>
					<div>
						<img
							src="https://files.myglamm.com/site-images/original/IDFC-offer-3360x279_3.jpg"
							alt=""
						/>
						<h3>AU SMALL FINANCE Bank</h3>
						<p>AU SMALL FINANCE Bank</p>
					</div>
				</div>
			</div>

			<!-- Best seller scroller section -->
			<div id="best_seller">
				<div><h3>BEST SELLER</h3></div>
				<div id="best_seller_scroll">
					<div id="best_seller_scrol_1">1</div>
					<div id="best_seller_scrol_2">2</div>
					<div id="best_seller_scrol_3">3</div>
					<div id="best_seller_scrol_4">4</div>
					<div id="best_seller_scrol_5">5</div>
					<div id="best_seller_scrol_6">6</div>
					<div id="best_seller_scrol_7">7</div>
					<div id="best_seller_scrol_8">8</div>
				</div>
				<button onclick="bestSellerLeft()">
					<span class="glyphicon glyphicon-triangle-left"></span>
				</button>
				<button onclick="bestSellerRight()">
					<span class="glyphicon glyphicon-triangle-right"></span>
				</button>
			</div>

			<!-- Essential Budget buys -->
			<div id="budget_buys">
				<div><h3>ESSENTIAL BUDGET BUYS</h3></div>
				<div>
					<div>
						<img
							src="https://files.myglamm.com/site-images/original/combo-Banner--700-x-488_1.jpg"
							alt=""
						/>
						<div class="tootip">
							<h1>WIPEOUT</h1>
							<p>WIPEOUT</p>
						</div>
					</div>
					<div>
						<img
							src="https://files.myglamm.com/site-images/original/Glamm-Picks-700x488.jpg"
							alt=""
						/>
						<div class="tootip">
							<h1>UNDER 499</h1>
							<p>UNDER 499</p>
						</div>
					</div>
					<div>
						<img
							src="https://files.myglamm.com/site-images/original/Glamm-Must-haves-desktop.jpg"
							alt=""
						/>
						<div class="tootip">
							<h1>UNDER 999</h1>
							<p>UNDER 999</p>
						</div>
					</div>
				</div>
			</div>

			<!-- Shop from Categores -->
			<div id="shop_from_cate">
				<div><h3>SHOP FROM CATEGORIES</h3></div>
				<div id="shop_from_cate_div2">
					<div>
						<img
							src="https://files.myglamm.com/site-images/original/SKin-1-2.png"
						/>
						<p>Foundation</p>
					</div>
					<div>
						<img
							src="https://files.myglamm.com/site-images/original/Lips-3.png"
							alt=""
						/>
						<p>Lipsticlk</p>
					</div>
					<div>
						<img
							src="https://files.myglamm.com/site-images/original/Superfoods-Model-120-X-120-px_2.jpg"
							alt=""
						/>
						<p>Hair</p>
					</div>
					<div>
						<img
							src="https://files.myglamm.com/site-images/original/Eyes-4.png"
							alt=""
						/>
						<p>Eyeshadow</p>
					</div>
					<div>
						<img
							src="https://files.myglamm.com/site-images/original/Face-5.png"
							alt=""
						/>
						<p>Face</p>
					</div>
					<div>
						<img
							src="https://files.myglamm.com/site-images/original/Nails-1.png"
							alt=""
						/>
						<p>Nail_polish</p>
					</div>
					<div>
						<img
							src="https://files.myglamm.com/site-images/original/App-PersonalCare_2.png"
							alt=""
						/>
						<p>Sanitizing Creams</p>
					</div>
					<div>
						<img
							src="https://files.myglamm.com/site-images/original/Bath.png"
							alt=""
						/>
						<p>Bath Body</p>
					</div>
				</div>
			</div>

			<!-- Wallet options -->
			<div id="wallet_offers">
				<div><h3>WALLET OFFERS</h3></div>
				<div>
					<div>
						<img
							src="https://files.myglamm.com/site-images/original/CRED-Pay-3360x279_4.jpg"
							alt=""
						/>
						<div>
							<h3>Cred Pay</h3>
							<p>Cred Pay</p>
						</div>
					</div>
					<div>
						<img
							src="https://files.myglamm.com/site-images/original/mobikwik-3360x279_4.jpg"
							alt=""
						/>
						<div>
							<h3>Mobikwik Wallet</h3>
							<p>Mobiwik Wallet</p>
						</div>
					</div>
					<div>
						<img
							src="https://files.myglamm.com/site-images/original/simpl-3360x279_4.jpg"
							alt=""
						/>
						<div>
							<h3>Simple Offer</h3>
							<p>Simple Offer</p>
						</div>
					</div>
					<div>
						<img
							src="https://files.myglamm.com/site-images/original/paytm-3360x279_2.jpg"
							alt=""
						/>
						<div>
							<h3>Paytm</h3>
							<p>Paytm</p>
						</div>
					</div>
				</div>
			</div>

			<!-- Kits and combos -->
			<div id="kits_combo">
				<div><h3>KITS & COMBO</h3></div>
				<div>
					<div>
						<img
							src="https://files.myglamm.com/site-images/original/desktop-mk-combo.jpg"
							alt=""
						/>
						<h3>Makeup Combos</h3>
						<p>Makeup Combos</p>
					</div>
					<div>
						<img
							src="https://files.myglamm.com/site-images/original/desktop-skin-combo.jpg"
							alt=""
						/>
						<h3>Skincare Combos</h3>
						<p>Skincare Combos</p>
					</div>
					<div>
						<img
							src="https://files.myglamm.com/site-images/original/Desktop-combo.jpg"
							alt=""
						/>
						<h3>Beauty Kits Under Rs.499</h3>
						<p>Beauty Kits Under Rs.499</p>
					</div>
				</div>
			</div>

			<!-- Refer and Earn -->
			<div id="refer_earn">
				<img
					src="https://files.myglamm.com/site-images/original/Community-Banner-2240-x-344_1.jpg"
					alt=""
				/>
			</div>

			<!-- Warnig banner-->
			<div id="warning">
				<img
					src="https://files.myglamm.com/site-images/original/disclaimer-mgp_1.png"
					alt=""
				/>
			</div>

			<!-- Brand Story -->
			<div id="brand_story">
				<video
					id="brand_story_vedio"
					src="https://www.myglamm.com/images/TellMyGlammWhatYouWant.webm"
					autoplay
					loop
					muted
					width="100%"
				></video>
			</div>
			<div id="brand_story_content">
				<h2>BRAND STORY</h2>
				<p>
					Backed by one of Europe's largest natural beauty companies, MyGlamm
					collaborated with global experts and makeup artists to bring about
					exciting innovation in makeup to accomplish our single, focused goal
					make looking glamorous effortless!
					<br />
					<span>Know More</span>
				</p>
				<img
					onclick="playBrandVedio()"
					src="https://www.myglamm.com/images/ico-play.png"
					alt=""
				/>
			</div>
		</div>

		<!-- Fixed positon message icon -->
		<div id="message_icon">
			<i class="fa fa-commenting-o" style="font-size: 40px"></i>
		</div>

		<div id="footer"></div>
	</body>
</html>

<script src="index.js"></script>

<!-- Importing the footer -->
<script type="module">
	import { footer } from './nav&foot.js';

	let foot = document.getElementById('footer');

	foot.innerHTML = footer();
</script>

<!-- For seeing the categores -->
<script src="product.js"></script>

<!-- Importing the navbar functionality -->
<script type="module">
	import { navbar, footer } from './nav&foot.js';

	let nav = document.getElementById('navbar');
	nav.innerHTML = navbar();
	let foot = document.getElementById('footer');

	foot.innerHTML = footer();

	// This page will temporarily prrovide js for sign&login.html will be later fused with navbar.
	let otp;
	let inputOtp;
	let inputOtp1;
	// showCountdownTimer();

	function showOtp() {
		otp = 9999 - Math.ceil(Math.random() * 1000);
		alert(`OTP is ${otp}`);
		showCountdownTimer();
	}

	function showCountdownTimer() {
		let time = 10;

		let id = setInterval(function () {
			if (time > 9) {
				document.getElementById('timer').innerText = `00:${time}`;
				document.getElementById('timer1').innerText = `00:${time}`;
			} else {
				document.getElementById('timer').innerText = `00:0${time}`;
				document.getElementById('timer1').innerText = `00:0${time}`;
			}
			time--;
			if (time < 0) {
				clearTimeout(id);
				let newOtp = document.createElement('div');
				newOtp.innerText = 'Resend OTP';
				newOtp.addEventListener('click', function () {
					document.getElementById('timer').innerHTML = null;
					document.getElementById('timer').innerHTML = null;
					showOtp();
				});
				document.getElementById('timer').innerText = null;
				document.getElementById('timer').append(newOtp);
				document.getElementById('timer1').innerText = null;
				document.getElementById('timer1').append(newOtp);
			}
		}, 1000);
	}

	function verifyOtp() {
		inputOtp = document.querySelector('#inputOtp').value;
		inputOtp1 = document.querySelector('#inputOtp1').value;

		if (inputOtp == otp || inputOtp1 == otp) {
			alert('Login Successful');
			return true;
		} else {
			alert('Login Failed');
			return false;
		}
	}

	// Ressending the otp

	let btn = document.querySelector('#pop_up');
	let popup2 = document.getElementById('pop_up2');
	let popup3 = document.getElementById('pop_up3');
	function openPopup() {
		console.log('hello');
		btn.classList.add('open-popup');
	}

	function closePopup() {
		btn.classList.remove('open-popup');
		popup2.classList.remove('open-popup');
		popup3.classList.remove('open-popup');
	}

	function newUserPopup(x) {
		btn.classList.remove('open-popup');
		popup2.classList.add('open-popup');
		showOtp();
		let num = document.querySelector('#pop_up2>p span');
		num.innerText = x;
		let name = document.getElementById('newUserName');
		let email = document.getElementById('newUserEmail');

		let checkBtn = document.getElementById('newUserVerify');
		checkBtn.addEventListener('click', function () {
			let validate = verifyOtp();
			if (validate) {
				console.log(x, name.value, email.value);
				newUser(x, name.value, email.value);
				closePopup();
			} else {
				popup2.classList.remove('open-popup');
				newUserPopup(x);
			}
		});
	}
	function existingUser(x) {
		btn.classList.remove('open-popup');
		popup3.classList.add('open-popup');
		showOtp();
		let num = document.querySelector('#pop_up3>p span');
		num.innerText = x;
		let otpVerify = document.getElementById('otpVerify');
		otpVerify.addEventListener('click', function () {
			let validate = verifyOtp();
			if (validate) {
				console.log(x);
				// newUser(x, name.value, email.value);
				let user = usersArr.filter((el, i) => {
					return el.number === x;
				});
				// console.log(user);
				localStorage.setItem('loginData', JSON.stringify(user[0]));

				user = [];
				closePopup();
			} else {
				popup2.classList.remove('open-popup');
				existingUser(x);
			}
		});
	}

	let usersArr = JSON.parse(localStorage.getItem('userData')) || [];

	let loginUser = JSON.parse(localStorage.getItem('loginData')) || [];

	let newUserSubmit = document.getElementById('newUserSubmit');

	newUserSubmit.addEventListener('click', newUserRegister);

	function newUserRegister() {
		let countryCode = document.getElementById('countryCode').value;
		let newUserMobile = document.getElementById('newUserMobile').value;
		let newNumber = `${countryCode}${newUserMobile}`;

		// console.log('hello', newNumber);
		let flag = false;
		if (usersArr.length === 0) {
			// console.log('hello', newNumber);
			flag = false;
			// newUserPopup(newNumber);
		} else {
			usersArr.forEach((el) => {
				if (el.number === newNumber) {
					flag = true;
					return flag;
				}
			});
		}
		if (flag) {
			existingUser(newNumber);
		} else {
			newUserPopup(newNumber);
		}
	}

	function newUser(number, name, email) {
		newObj = {
			number,
			name,
			email,
		};

		usersArr.push(newObj);
		loginUser.push(newObj);
		localStorage.setItem('userData', JSON.stringify(usersArr));
		localStorage.setItem('loginData', JSON.stringify(newObj));
	}

	function backPopup() {
		popup3.classList.remove('open-popup');
		btn.classListadd('open-popup');
	}

	// This page will provide js for otp.html
	let userProfile = document.querySelector('#userProfile>div');
	if (loginUser.length === 0) {
		// userProfile.innerHTML = `<span class="material-symbols-rounded" onclick="openPopup()">
		//                         person_filled
		//                         </span>`;
	} else {
		userProfile.innerHTML = null;
		let dropBox = document.createElement('div');
		let userName = document.createElement('p');
		let userPic = `<span class="material-symbols-rounded" onclick="openPopup()">
                    person_filled
                    </span>`;
		console.log(loginUser);
		userName.innerHTML =
			loginUser.name + ' ' + `<i class="fa-solid fa-caret-down"></i>`;

		dropBox.append();
		userProfile.append(userName);
		let profile = document.querySelector('#userProfile');
		profile.addEventListener('click', function () {
			profile.classList.toggle('active');
		});
	}

	function logout() {
		localStorage.removeItem('loginData');
		window.location.href = '';
	}
</script>
